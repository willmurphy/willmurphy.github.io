<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will's Signals</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      background: #eaf0f8;
      color: #1a1a1a;
      min-height: 100vh;
      padding: 2.5rem 1.5rem 4rem;
    }

    .page {
      max-width: 1080px;
      margin: 0 auto;
    }

    /* ── Site header ──────────────────────────────────────────── */
    .site-header {
      border-bottom: 2px solid #1a1a1a;
      padding-bottom: 1rem;
      margin-bottom: 2rem;
      background: #eaf0f8;
    }
    .site-header h1 { font-size: 2.2rem; font-weight: 700; letter-spacing: -0.5px; }
    .site-header p  { color: #555; margin-top: 0.25rem; font-size: 1rem; }

    /* ── Month navigation ─────────────────────────────────────── */
    .month-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }
    .nav-left, .nav-right {
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .month-label {
      font-size: 1.45rem;
      font-weight: 700;
      letter-spacing: -0.3px;
      color: #1a1a1a;
    }
    .nav-btn {
      background: #fff;
      border: 1px solid #ccd6e0;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      color: #444;
      padding: 0.4rem 0.9rem;
      line-height: 1;
      transition: border-color 0.15s, color 0.15s, background 0.15s;
    }
    .nav-btn:hover:not(:disabled) { border-color: #3b82f6; color: #3b82f6; }
    .nav-btn:disabled { opacity: 0.3; cursor: default; }
    .today-btn {
      background: #fff;
      border: 2px solid #3b82f6;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.875rem;
      font-weight: 600;
      color: #3b82f6;
      padding: 0.35rem 0.9rem;
      line-height: 1;
      transition: background 0.15s, color 0.15s;
    }
    .today-btn:hover:not(:disabled) { background: #3b82f6; color: #fff; }
    .today-btn:disabled { opacity: 0.3; cursor: default; }

    /* ── Legend ───────────────────────────────────────────────── */
    .legend {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
      font-size: 0.82rem;
      color: #555;
      margin-bottom: 1.25rem;
    }
    .legend-item { display: flex; align-items: center; gap: 0.35rem; }
    .dot {
      width: 9px; height: 9px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .dot-green { background: #22c55e; }
    .dot-blue  { background: #3b82f6; }

    /* ── Calendar grid ────────────────────────────────────────── */
    .cal-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    .cal-dow {
      text-align: center;
      font-size: 0.72rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #7a92aa;
      padding: 0.4rem 0 0.6rem;
    }

    .cal-day {
      background: #fff;
      border: 1px solid #dce6f0;
      border-radius: 12px;
      aspect-ratio: 2 / 1;
      min-width: 0;
      padding: 0.6rem 0.7rem 0.65rem;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: default;
      transition: border-color 0.15s;
      overflow: hidden;
    }
    .cal-day.other-month {
      background: #f4f8fb;
      border-color: #e8eef4;
    }
    .cal-day.other-month .day-num { color: #b0c0d0; }

    /* Today */
    .cal-day.today {
      border: 2px solid #3b82f6;
    }
    .cal-day.today .day-num { color: #3b82f6; font-weight: 700; }

    /* Day with report */
    .cal-day.has-report { cursor: pointer; }
    .cal-day.has-report:hover { border-color: #22c55e; }
    .cal-day.has-report.today:hover { border-color: #3b82f6; }

    /* Day number + today dot row */
    .day-top {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
    }
    .day-num {
      font-size: 0.95rem;
      font-weight: 500;
      color: #1a1a1a;
      line-height: 1;
    }
    .today-indicator {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: #3b82f6;
      margin-top: 2px;
      flex-shrink: 0;
    }

    /* Report badge */
    .report-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      background: #f0fdf4;
      border: 1px solid #bbf7d0;
      border-radius: 6px;
      padding: 0.28rem 0.55rem;
      font-size: 0.72rem;
      font-weight: 600;
      color: #15803d;
      line-height: 1;
      white-space: nowrap;
    }
    .report-badge .dot { width: 7px; height: 7px; }

    /* Full-cell invisible link */
    .cal-day.has-report a.cell-link {
      position: absolute;
      inset: 0;
      border-radius: 12px;
      z-index: 1;
      text-indent: -9999px;
      overflow: hidden;
    }

    /* ── Footer ───────────────────────────────────────────────── */
    footer {
      margin-top: 2.5rem;
      text-align: center;
      font-size: 0.85rem;
      color: #94a3b8;
    }
  </style>
</head>
<body>
<div class="page">

  <div class="site-header">
    <h1>Will's Signals</h1>
    <p>Daily AI-generated trend reports (experimental)</p>
  </div>

  <div class="month-nav">
    <div class="nav-left">
      <button class="nav-btn" id="prev-btn" onclick="navigate(-1)">&#8592;</button>
    </div>
    <span class="month-label" id="month-label"></span>
    <div class="nav-right">
      <button class="today-btn" id="today-btn" onclick="goToToday()">Today</button>
      <button class="nav-btn" id="next-btn" onclick="navigate(1)">&#8594;</button>
    </div>
  </div>

  <div class="legend">
    <div class="legend-item"><span class="dot dot-green"></span> Report available</div>
    <div class="legend-item"><span class="dot dot-blue"></span> Today</div>
  </div>

  <div class="cal-grid" id="cal-grid"></div>

  <footer>Generated by Claude</footer>

</div>
<script>
  // ── Report index ───────────────────────────────────────────────
  // Add entries here as reports are published: 'YYYY-MM-DD': 'YYYY-MM-DD.html'
  const REPORTS = {
    '2026-02-28': '2026-02-28.html',
    '2026-02-27': '2026-02-27.html',
  };

  // ── State ──────────────────────────────────────────────────────
  const today = new Date();
  const reportDates = Object.keys(REPORTS).sort();
  const firstReport = reportDates.length
    ? new Date(reportDates[0] + 'T00:00:00')
    : today;

  let currentYear  = today.getFullYear();
  let currentMonth = today.getMonth();

  // ── Constants ──────────────────────────────────────────────────
  const MONTHS = ['January','February','March','April','May','June',
                  'July','August','September','October','November','December'];
  const DAYS   = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

  function toKey(y, m, d) {
    return `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
  }
  function isToday(y, m, d) {
    return y === today.getFullYear() && m === today.getMonth() && d === today.getDate();
  }

  // ── Render ─────────────────────────────────────────────────────
  function renderCalendar() {
    const grid  = document.getElementById('cal-grid');
    const label = document.getElementById('month-label');

    label.textContent = `${MONTHS[currentMonth]} ${currentYear}`;

    const onCurrentMonth = currentYear === today.getFullYear() && currentMonth === today.getMonth();
    const atFirstMonth   = currentYear === firstReport.getFullYear() && currentMonth <= firstReport.getMonth()
                        || currentYear < firstReport.getFullYear();

    document.getElementById('prev-btn').disabled  = atFirstMonth;
    document.getElementById('next-btn').disabled  = onCurrentMonth ||
      (currentYear > today.getFullYear());
    document.getElementById('today-btn').disabled = onCurrentMonth;

    grid.innerHTML = '';

    // Day-of-week headers
    DAYS.forEach(d => {
      const el = document.createElement('div');
      el.className = 'cal-dow';
      el.textContent = d;
      grid.appendChild(el);
    });

    const firstDay    = new Date(currentYear, currentMonth, 1).getDay();
    const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
    const prevMonthDays = new Date(currentYear, currentMonth, 0).getDate();

    // Leading cells from previous month
    for (let i = 0; i < firstDay; i++) {
      const d = prevMonthDays - firstDay + 1 + i;
      const pm = currentMonth === 0 ? 11 : currentMonth - 1;
      const py = currentMonth === 0 ? currentYear - 1 : currentYear;
      grid.appendChild(makeCell(py, pm, d, true));
    }

    // Current month
    for (let d = 1; d <= daysInMonth; d++) {
      grid.appendChild(makeCell(currentYear, currentMonth, d, false));
    }

    // Trailing cells into next month
    const total    = firstDay + daysInMonth;
    const trailing = total % 7 === 0 ? 0 : 7 - (total % 7);
    for (let i = 1; i <= trailing; i++) {
      const nm = currentMonth === 11 ? 0 : currentMonth + 1;
      const ny = currentMonth === 11 ? currentYear + 1 : currentYear;
      grid.appendChild(makeCell(ny, nm, i, true));
    }
  }

  function makeCell(y, m, d, otherMonth) {
    const key  = toKey(y, m, d);
    const href = REPORTS[key];
    const todayCell = isToday(y, m, d);

    const cell = document.createElement('div');
    let cls = 'cal-day';
    if (otherMonth)  cls += ' other-month';
    if (todayCell)   cls += ' today';
    if (href)        cls += ' has-report';
    cell.className = cls;

    // Top row: day number + today dot
    const top = document.createElement('div');
    top.className = 'day-top';

    const num = document.createElement('span');
    num.className = 'day-num';
    num.textContent = d;
    top.appendChild(num);

    if (todayCell) {
      const dot = document.createElement('span');
      dot.className = 'today-indicator';
      top.appendChild(dot);
    }

    cell.appendChild(top);

    // Report badge
    if (href) {
      const badge = document.createElement('span');
      badge.className = 'report-badge';
      badge.innerHTML = '<span class="dot dot-green"></span> Signals Report';
      cell.appendChild(badge);

      const link = document.createElement('a');
      link.className = 'cell-link';
      link.href = href;
      link.textContent = key;
      cell.appendChild(link);
    }

    return cell;
  }

  // ── Navigation ─────────────────────────────────────────────────
  function navigate(dir) {
    currentMonth += dir;
    if (currentMonth > 11) { currentMonth = 0;  currentYear++; }
    if (currentMonth < 0)  { currentMonth = 11; currentYear--; }
    renderCalendar();
  }

  function goToToday() {
    currentYear  = today.getFullYear();
    currentMonth = today.getMonth();
    renderCalendar();
  }

  // ── Init ───────────────────────────────────────────────────────
  renderCalendar();
</script>
</body>
</html>
