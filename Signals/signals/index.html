<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will's Signals</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      background: #f9f9f7;
      color: #1a1a1a;
      max-width: 780px;
      margin: 0 auto;
      padding: 2rem 1.5rem 4rem;
    }
    header {
      border-bottom: 2px solid #1a1a1a;
      padding-bottom: 1rem;
      margin-bottom: 2.5rem;
    }
    header h1 { font-size: 2.2rem; font-weight: 700; letter-spacing: -0.5px; }
    header p { color: #555; margin-top: 0.25rem; font-size: 1rem; }

    /* Month navigation */
    .month-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
    }
    .month-nav button {
      background: none;
      border: 1px solid #ddd;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      color: #555;
      padding: 0.35rem 0.85rem;
      line-height: 1;
      transition: border-color 0.15s, color 0.15s;
    }
    .month-nav button:hover { border-color: #1a1a1a; color: #1a1a1a; }
    .month-nav button:disabled { opacity: 0.25; cursor: default; border-color: #ddd; color: #aaa; }
    .month-label {
      font-size: 1rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #1a1a1a;
    }

    /* Calendar grid */
    .cal-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      background: #e8e8e4;
      border: 1px solid #e8e8e4;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 2rem;
    }
    .cal-dow {
      background: #f9f9f7;
      text-align: center;
      font-size: 0.72rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #aaa;
      padding: 0.65rem 0;
    }
    .cal-day {
      background: #fff;
      min-height: 72px;
      padding: 0.6rem 0.65rem 0.5rem;
      position: relative;
      cursor: default;
    }
    .cal-day.other-month {
      background: #fafaf8;
    }
    .cal-day.other-month .day-num {
      opacity: 0.2;
    }
    .day-num {
      font-size: 0.9rem;
      font-weight: 500;
      color: #1a1a1a;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      border-radius: 50%;
    }
    .cal-day.today .day-num {
      background: #bfdbfe;
      color: #1e3a5f;
      font-weight: 700;
    }
    .cal-day.has-report {
      cursor: pointer;
    }
    .cal-day.has-report:hover {
      background: #f4f4f1;
    }
    .cal-day.has-report .day-num {
      background: #1a1a1a;
      color: #fff;
      font-weight: 700;
    }
    .cal-day.has-report.today .day-num {
      background: #1e3a5f;
      color: #bfdbfe;
    }
    /* Invisible full-cell link */
    .cal-day.has-report a.cell-link {
      position: absolute;
      inset: 0;
      z-index: 1;
      text-indent: -9999px;
      overflow: hidden;
    }
    .report-label {
      display: block;
      margin-top: 0.35rem;
      font-size: 0.68rem;
      color: #888;
      line-height: 1.3;
      position: relative;
      z-index: 0;
    }

    footer {
      border-top: 1px solid #ddd;
      padding-top: 1rem;
      margin-top: 3rem;
      font-size: 0.9rem;
      color: #aaa;
    }
  </style>
</head>
<body>

  <header>
    <h1>Will's Signals</h1>
    <p>Daily trend reports — Technological · Economic · Social</p>
  </header>

  <main>
    <div class="month-nav">
      <button id="prev-btn" onclick="navigate(-1)">&#8592;</button>
      <span class="month-label" id="month-label"></span>
      <div style="display:flex;gap:0.4rem;align-items:center;">
        <button id="today-btn" onclick="goToToday()">Today</button>
        <button id="next-btn" onclick="navigate(1)">&#8594;</button>
      </div>
    </div>

    <div class="cal-grid" id="cal-grid"></div>
  </main>

  <footer>
    <p>Generated by Claude</p>
  </footer>

  <script>
    // ── Report index ─────────────────────────────────────────────
    // Add new entries here as reports are published: 'YYYY-MM-DD': 'YYYY-MM-DD.html'
    const REPORTS = {
      '2026-02-27': '2026-02-27.html',
    };

    // ── State ─────────────────────────────────────────────────────
    const today = new Date();
    const reportDates = Object.keys(REPORTS).sort().reverse();
    const firstReportDate = reportDates.length
      ? new Date(reportDates[reportDates.length - 1] + 'T00:00:00')
      : today;

    let currentYear  = today.getFullYear();
    let currentMonth = today.getMonth(); // 0-indexed

    // ── Helpers ───────────────────────────────────────────────────
    const MONTHS = ['January','February','March','April','May','June',
                    'July','August','September','October','November','December'];
    const DAYS   = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

    function toKey(y, m, d) {
      return `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
    }
    function isToday(y, m, d) {
      return y === today.getFullYear() && m === today.getMonth() && d === today.getDate();
    }

    // ── Calendar render ───────────────────────────────────────────
    function renderCalendar() {
      const grid  = document.getElementById('cal-grid');
      const label = document.getElementById('month-label');

      label.textContent = `${MONTHS[currentMonth]} ${currentYear}`;

      // Disable prev if we're at the earliest report month
      document.getElementById('prev-btn').disabled =
        (currentYear < firstReportDate.getFullYear()) ||
        (currentYear === firstReportDate.getFullYear() && currentMonth <= firstReportDate.getMonth());

      // Disable next if we're at or past the current real month
      const onCurrentMonth = currentYear === today.getFullYear() && currentMonth === today.getMonth();
      document.getElementById('next-btn').disabled =
        (currentYear > today.getFullYear()) ||
        (currentYear === today.getFullYear() && currentMonth >= today.getMonth());

      // Disable Today button when already on the current month
      document.getElementById('today-btn').disabled = onCurrentMonth;

      grid.innerHTML = '';

      // Day-of-week headers
      DAYS.forEach(d => {
        const el = document.createElement('div');
        el.className = 'cal-dow';
        el.textContent = d;
        grid.appendChild(el);
      });

      const firstDay  = new Date(currentYear, currentMonth, 1).getDay(); // 0=Sun
      const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
      const prevDays  = new Date(currentYear, currentMonth, 0).getDate();

      // Leading blanks from previous month
      for (let i = 0; i < firstDay; i++) {
        const day = prevDays - firstDay + 1 + i;
        const prevMonth = currentMonth === 0 ? 11 : currentMonth - 1;
        const prevYear  = currentMonth === 0 ? currentYear - 1 : currentYear;
        grid.appendChild(makeCell(prevYear, prevMonth, day, true));
      }

      // Current month days
      for (let d = 1; d <= daysInMonth; d++) {
        grid.appendChild(makeCell(currentYear, currentMonth, d, false));
      }

      // Trailing blanks to complete the grid
      const total = firstDay + daysInMonth;
      const trailing = total % 7 === 0 ? 0 : 7 - (total % 7);
      for (let i = 1; i <= trailing; i++) {
        const nextMonth = currentMonth === 11 ? 0 : currentMonth + 1;
        const nextYear  = currentMonth === 11 ? currentYear + 1 : currentYear;
        grid.appendChild(makeCell(nextYear, nextMonth, i, true));
      }
    }

    function makeCell(y, m, d, otherMonth) {
      const key  = toKey(y, m, d);
      const href = REPORTS[key];

      const cell = document.createElement('div');
      let cls = 'cal-day';
      if (otherMonth) cls += ' other-month';
      if (isToday(y, m, d)) cls += ' today';
      if (href) cls += ' has-report';
      cell.className = cls;

      const num = document.createElement('span');
      num.className = 'day-num';
      num.textContent = d;
      cell.appendChild(num);

      if (href) {
        const link = document.createElement('a');
        link.className = 'cell-link';
        link.href = href;
        link.textContent = key;
        cell.appendChild(link);

        const lbl = document.createElement('span');
        lbl.className = 'report-label';
        lbl.textContent = 'Report ↗';
        cell.appendChild(lbl);
      }

      return cell;
    }

    // ── Month navigation ──────────────────────────────────────────
    function navigate(dir) {
      currentMonth += dir;
      if (currentMonth > 11) { currentMonth = 0;  currentYear++; }
      if (currentMonth < 0)  { currentMonth = 11; currentYear--; }
      renderCalendar();
    }

    function goToToday() {
      currentYear  = today.getFullYear();
      currentMonth = today.getMonth();
      renderCalendar();
    }

    // ── Init ──────────────────────────────────────────────────────
    renderCalendar();
  </script>

</body>
</html>
